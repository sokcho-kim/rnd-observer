# 작업일지 2026-01-05

## 프로젝트 개요

**rndo (린도)** - R&D Observer
- 미어캣 컨셉의 R&D 및 공모전 감시 봇
- Teams 채널에 새 공고 자동 알림
- 배치로 수집 → 알림 (명령어 방식 X)

## 오늘 작업 내용

### 1. 프로젝트 구조 생성
```
rnd-observer/
├── src/
│   ├── main.py              # 메인 실행 로직
│   ├── models/
│   │   └── announcement.py  # 공고 데이터 모델
│   ├── scrapers/
│   │   ├── base.py          # 스크래퍼 베이스 클래스
│   │   └── aifactory.py     # aifactory 스크래퍼
│   └── notifier/
│       └── teams.py         # Teams Webhook 알림
├── function_app.py          # Azure Functions 엔트리
├── requirements.txt
└── plan/
    ├── rnd_agent_workflow.md    # 원본 워크플로우 문서
    └── implementation_plan.md   # 상세 구현 계획 (초안)
```

### 2. aifactory 스크래퍼 구현
- Playwright 기반 (기존 scrape-hub 패턴 참고)
- `div.cursor-pointer` 셀렉터로 카드 찾기
- 텍스트 라인 파싱으로 정보 추출:
  - 상태 (모집 대기중, 진행중, 종료)
  - 제목
  - 주최
  - 상금
  - 마감일

**테스트 결과**: 109건 수집 성공

### 3. Teams Webhook 모듈 작성
- Adaptive Card 형식으로 메시지 생성
- 아직 테스트 못함 (Webhook URL 필요)

### 4. Azure Functions 설정
- Timer trigger: 매일 9시, 18시 실행 예정
- HTTP trigger: 수동 실행용

## 이슈 및 미해결

### Teams Incoming Webhook 설정 불가
- 채널에서 "커넥터" 또는 "앱" 메뉴가 안 보임
- 회사 Teams 관리자가 막아뒀을 가능성
- **대안**: Power Automate로 우회 가능

### 콘솔 한글 인코딩
- Windows cp949 인코딩 문제로 출력 깨짐
- 실제 데이터 수집은 정상 동작

## 다음 작업

1. **Teams 연동 해결**
   - IT팀에 Incoming Webhook 권한 요청
   - 또는 Power Automate 방식 검토

2. **IRIS 스크래퍼 추가** (메인 타겟)
   - https://www.iris.go.kr
   - 정부 R&D 과제 공고

3. **필터링 추가**
   - 종료된 공모전 제외
   - 모집중/진행중만 알림

4. **@rndo 호출 기능** (Phase 2)
   - 공고 분석 + 주제 추천 + 관련 조사
   - 종합 보고서 생성

## 참고

- 기존 스크래핑 코드: `C:\Jimin\scrape-hub`
- 워크플로우 원본: `plan/rnd_agent_workflow.md`
